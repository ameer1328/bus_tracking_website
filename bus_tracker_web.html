<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bus Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for Inter font and general body styling */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(to bottom right, #e0f2fe, #e0e7ff); /* Light blue to light indigo gradient */
        }
        /* Custom modal styling */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 100; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            width: 90%;
            max-width: 400px;
            text-align: center;
        }
        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        /* Style for the vertical line in detailed tracking */
        .vertical-line {
            position: absolute;
            left: 20px; /* Adjust to align with circles */
            top: 0;
            bottom: 0;
            width: 4px;
            background-color: #93c5fd; /* Light blue */
            border-radius: 2px;
        }
        .stop-item {
            position: relative;
            padding-left: 40px; /* Space for circle and line */
            display: flex;
            align-items: center;
        }
        .stop-circle {
            position: absolute;
            left: 14px; /* Align with line */
            width: 16px;
            height: 16px;
            background-color: #3b82f6; /* Blue */
            border-radius: 50%;
            z-index: 10;
        }
        .bus-icon {
            position: absolute;
            left: 4px; /* Adjust to be next to the circle */
            font-size: 1.5rem; /* Larger emoji */
            z-index: 11;
            transform: translateX(-100%); /* Position left of the circle */
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-100 to-indigo-200 flex flex-col items-center justify-center p-4 font-inter">

    <div class="bg-white p-8 rounded-xl shadow-lg w-full max-w-md">
        <h1 class="text-3xl font-bold text-center text-blue-800 mb-6">Bus Tracker</h1>

        <div class="mb-4">
            <label for="currentStopSelect" class="block text-gray-700 text-sm font-semibold mb-2">
                Select Your Current Stop:
            </label>
            <select
                id="currentStopSelect"
                class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
            >
                <option value="">Select your stop</option>
            </select>
        </div>

        <div class="mb-6">
            <label for="destinationSelect" class="block text-gray-700 text-sm font-semibold mb-2">
                Your Destination:
            </label>
            <select
                id="destinationSelect"
                class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
            >
                <option value="">Select your destination</option>
            </select>
        </div>

        <button
            id="findBusesButton"
            class="w-full bg-blue-600 text-white p-3 rounded-lg font-bold hover:bg-blue-700 transition duration-300 ease-in-out shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75"
        >
            Find Available Buses
        </button>

        <div id="availableBusesContainer" class="mt-8 hidden">
            <h2 class="text-xl font-bold text-gray-800 mb-4">Available Buses:</h2>
            <div id="busCardsContainer" class="space-y-4">
                </div>
        </div>

        <div id="detailedTrackingContainer" class="mt-8 bg-white p-6 rounded-xl shadow-lg border border-blue-300 hidden">
            <h2 id="trackingBusName" class="text-2xl font-bold text-blue-800 mb-4">Live Tracking: </h2>
            <p id="trackingBusRoute" class="text-gray-700 text-lg mb-2">Route: </p>
            <p class="text-gray-700 text-lg mb-4">Current Status: <span id="trackingLiveLocation" class="font-semibold text-green-700"></span></p>

            <div id="trackingStopList" class="relative space-y-4 py-4">
                <div class="vertical-line"></div>
                </div>
            <button
                id="closeTrackingButton"
                class="mt-6 w-full bg-red-600 text-white p-3 rounded-lg font-bold hover:bg-red-700 transition duration-300 ease-in-out shadow-md"
            >
                Close Tracking
            </button>
        </div>

        <div id="messageModal" class="modal">
            <div class="modal-content">
                <span class="close-button" id="closeModalButton">&times;</span>
                <p id="modalMessage" class="text-lg text-gray-800 mb-4"></p>
                <button
                    id="modalOkButton"
                    class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-300"
                >
                    OK
                </button>
            </div>
        </div>
    </div>

    <script>
        // The initial bus data from your JSON file, loaded directly into the script.
        const initialBusData = {
            "stops": {
                "cuddalore_bus_stand": { "name": "Bus Stand", "latitude": null, "longitude": null },
                "new_cinema": { "name": "New Cinema", "latitude": null, "longitude": null },
                "cuddalore_post_office": { "name": "Cuddalore Post Ofiice", "latitude": null, "longitude": null },
                "gh": { "name": "G.H", "latitude": null, "longitude": null },
                "semmandalam": { "name": "Semmandalam", "latitude": null, "longitude": null },
                "chavadi": { "name": "Chavadi", "latitude": null, "longitude": null },
                "kondur": { "name": "Kondur", "latitude": null, "longitude": null },
                "vellagate": { "name": "Vellagate", "latitude": null, "longitude": null },
                "nellikuppam_post_office": { "name": "Nellikuppam Post office", "latitude": null, "longitude": null },
                "nellikuppam_bus_stand": { "name": "Nellikuppam Bust Stand", "latitude": null, "longitude": null },
                "police_station": { "name": "Police Station", "latitude": null, "longitude": null },
                "police_line": { "name": "Police LIne", "latitude": null, "longitude": null },
                "mel_pattamapaakam": { "name": "Mel pattamapaakam", "latitude": null, "longitude": null },
                "annagramam": { "name": "Annagramam", "latitude": null, "longitude": null },
                "thiruvathi": { "name": "Thiruvathi", "latitude": null, "longitude": null },
                "panruti": { "name": "Panruti", "latitude": null, "longitude": null }
            },
            "routes": {
                "cuddalore_to_panruti": {
                    "name": "Cuddalore to Panruti",
                    "stopOrder": [
                        "cuddalore_bus_stand", "new_cinema", "cuddalore_post_office", "gh", "semmandalam",
                        "chavadi", "kondur", "vellagate", "nellikuppam_post_office", "nellikuppam_bus_stand",
                        "police_station", "police_line", "mel_pattamapaakam", "annagramam", "thiruvathi", "panruti"
                    ]
                },
                "panruti_to_cuddalore": {
                    "name": "Panruti to Cuddalore",
                    "stopOrder": [
                        "panruti", "thiruvathi", "annagramam", "mel_pattamapaakam", "police_line",
                        "police_station", "nellikuppam_bus_stand", "nellikuppam_post_office", "vellagate",
                        "kondur", "chavadi", "semmandalam", "gh", "cuddalore_post_office", "new_cinema", "cuddalore_bus_stand"
                    ]
                }
            },
            "busSchedules": {
                "thendral_cuddalore_0600": { "busName": "THENDRAL", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "06:00 AM" }, "new_cinema": { "arrival": "06:05 AM" }, "cuddalore_post_office": { "arrival": "06:10 AM" }, "gh": { "arrival": "06:15 AM" }, "semmandalam": { "arrival": "06:20 AM" }, "chavadi": { "arrival": "06:25 AM" }, "kondur": { "arrival": "06:30 AM" }, "vellagate": { "arrival": "06:35 AM" }, "nellikuppam_post_office": { "arrival": "06:40 AM" }, "nellikuppam_bus_stand": { "arrival": "06:45 AM" }, "police_station": { "arrival": "06:50 AM" }, "police_line": { "arrival": "06:55 AM" }, "mel_pattamapaakam": { "arrival": "07:00 AM" }, "annagramam": { "arrival": "07:05 AM" }, "thiruvathi": { "arrival": "07:10 AM" }, "panruti": { "arrival": "07:15 AM" } } },
                "akt_cuddalore_0630": { "busName": "AKT", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "06:30 AM" }, "new_cinema": { "arrival": "06:35 AM" }, "cuddalore_post_office": { "arrival": "06:40 AM" }, "gh": { "arrival": "06:45 AM" }, "semmandalam": { "arrival": "06:50 AM" }, "chavadi": { "arrival": "06:55 AM" }, "kondur": { "arrival": "07:00 AM" }, "vellagate": { "arrival": "07:05 AM" }, "nellikuppam_post_office": { "arrival": "07:10 AM" }, "nellikuppam_bus_stand": { "arrival": "07:15 AM" }, "police_station": { "arrival": "07:20 AM" }, "police_line": { "arrival": "07:25 AM" }, "mel_pattamapaakam": { "arrival": "07:30 AM" }, "annagramam": { "arrival": "07:35 AM" }, "thiruvathi": { "arrival": "07:40 AM" }, "panruti": { "arrival": "07:45 AM" } } },
                "ganeshan_cuddalore_0700": { "busName": "GANESHAN", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "07:00 AM" }, "new_cinema": { "arrival": "07:05 AM" }, "cuddalore_post_office": { "arrival": "07:10 AM" }, "gh": { "arrival": "07:15 AM" }, "semmandalam": { "arrival": "07:20 AM" }, "chavadi": { "arrival": "07:25 AM" }, "kondur": { "arrival": "07:30 AM" }, "vellagate": { "arrival": "07:35 AM" }, "nellikuppam_post_office": { "arrival": "07:40 AM" }, "nellikuppam_bus_stand": { "arrival": "07:45 AM" }, "police_station": { "arrival": "07:50 AM" }, "police_line": { "arrival": "07:55 AM" }, "mel_pattamapaakam": { "arrival": "08:00 AM" }, "annagramam": { "arrival": "08:05 AM" }, "thiruvathi": { "arrival": "08:10 AM" }, "panruti": { "arrival": "08:15 AM" } } },
                "routebus_cuddalore_0730": { "busName": "ROUTE BUS", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "07:30 AM" }, "new_cinema": { "arrival": "07:35 AM" }, "cuddalore_post_office": { "arrival": "07:40 AM" }, "gh": { "arrival": "07:45 AM" }, "semmandalam": { "arrival": "07:50 AM" }, "chavadi": { "arrival": "07:55 AM" }, "kondur": { "arrival": "08:00 AM" }, "vellagate": { "arrival": "08:05 AM" }, "nellikuppam_post_office": { "arrival": "08:10 AM" }, "nellikuppam_bus_stand": { "arrival": "08:15 AM" }, "police_station": { "arrival": "08:20 AM" }, "police_line": { "arrival": "08:25 AM" }, "mel_pattamapaakam": { "arrival": "08:30 AM" }, "annagramam": { "arrival": "08:35 AM" }, "thiruvathi": { "arrival": "08:40 AM" }, "panruti": { "arrival": "08:45 AM" } } },
                "rkr_cuddalore_0745": { "busName": "RKR", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "07:45 AM" }, "new_cinema": { "arrival": "07:50 AM" }, "cuddalore_post_office": { "arrival": "07:55 AM" }, "gh": { "arrival": "08:00 AM" }, "semmandalam": { "arrival": "08:05 AM" }, "chavadi": { "arrival": "08:10 AM" }, "kondur": { "arrival": "08:15 AM" }, "vellagate": { "arrival": "08:20 AM" }, "nellikuppam_post_office": { "arrival": "08:25 AM" }, "nellikuppam_bus_stand": { "arrival": "08:30 AM" }, "police_station": { "arrival": "08:35 AM" }, "police_line": { "arrival": "08:40 AM" }, "mel_pattamapaakam": { "arrival": "08:45 AM" }, "annagramam": { "arrival": "08:50 AM" }, "thiruvathi": { "arrival": "08:55 AM" }, "panruti": { "arrival": "09:00 AM" } } },
                "nrs_cuddalore_0815": { "busName": "NRS", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "08:15 AM" }, "new_cinema": { "arrival": "08:20 AM" }, "cuddalore_post_office": { "arrival": "08:25 AM" }, "gh": { "arrival": "08:30 AM" }, "semmandalam": { "arrival": "08:35 AM" }, "chavadi": { "arrival": "08:40 AM" }, "kondur": { "arrival": "08:45 AM" }, "vellagate": { "arrival": "08:50 AM" }, "nellikuppam_post_office": { "arrival": "08:55 AM" }, "nellikuppam_bus_stand": { "arrival": "09:00 AM" }, "police_station": { "arrival": "09:05 AM" }, "police_line": { "arrival": "09:10 AM" }, "mel_pattamapaakam": { "arrival": "09:15 AM" }, "annagramam": { "arrival": "09:20 AM" }, "thiruvathi": { "arrival": "09:25 AM" }, "panruti": { "arrival": "09:30 AM" } } },
                "ems_cuddalore_0845": { "busName": "EMS", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "08:45 AM" }, "new_cinema": { "arrival": "08:50 AM" }, "cuddalore_post_office": { "arrival": "08:55 AM" }, "gh": { "arrival": "09:00 AM" }, "semmandalam": { "arrival": "09:05 AM" }, "chavadi": { "arrival": "09:10 AM" }, "kondur": { "arrival": "09:15 AM" }, "vellagate": { "arrival": "09:20 AM" }, "nellikuppam_post_office": { "arrival": "09:25 AM" }, "nellikuppam_bus_stand": { "arrival": "09:30 AM" }, "police_station": { "arrival": "09:35 AM" }, "police_line": { "arrival": "09:40 AM" }, "mel_pattamapaakam": { "arrival": "09:45 AM" }, "annagramam": { "arrival": "09:50 AM" }, "thiruvathi": { "arrival": "09:55 AM" }, "panruti": { "arrival": "10:00 AM" } } },
                "routebus_cuddalore_0915": { "busName": "ROUTE BUS", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "09:15 AM" }, "new_cinema": { "arrival": "09:20 AM" }, "cuddalore_post_office": { "arrival": "09:25 AM" }, "gh": { "arrival": "09:30 AM" }, "semmandalam": { "arrival": "09:35 AM" }, "chavadi": { "arrival": "09:40 AM" }, "kondur": { "arrival": "09:45 AM" }, "vellagate": { "arrival": "09:50 AM" }, "nellikuppam_post_office": { "arrival": "09:55 AM" }, "nellikuppam_bus_stand": { "arrival": "10:00 AM" }, "police_station": { "arrival": "10:05 AM" }, "police_line": { "arrival": "10:10 AM" }, "mel_pattamapaakam": { "arrival": "10:15 AM" }, "annagramam": { "arrival": "10:20 AM" }, "thiruvathi": { "arrival": "10:25 AM" }, "panruti": { "arrival": "10:30 AM" } } },
                "balaji_cuddalore_0930": { "busName": "BALAJI", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "09:30 AM" }, "new_cinema": { "arrival": "09:35 AM" }, "cuddalore_post_office": { "arrival": "09:40 AM" }, "gh": { "arrival": "09:45 AM" }, "semmandalam": { "arrival": "09:50 AM" }, "chavadi": { "arrival": "09:55 AM" }, "kondur": { "arrival": "10:00 AM" }, "vellagate": { "arrival": "10:05 AM" }, "nellikuppam_post_office": { "arrival": "10:10 AM" }, "nellikuppam_bus_stand": { "arrival": "10:15 AM" }, "police_station": { "arrival": "10:20 AM" }, "police_line": { "arrival": "10:25 AM" }, "mel_pattamapaakam": { "arrival": "10:30 AM" }, "annagramam": { "arrival": "10:35 AM" }, "thiruvathi": { "arrival": "10:40 AM" }, "panruti": { "arrival": "10:45 AM" } } },
                "sbrs_cuddalore_1000": { "busName": "SBRS", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "10:00 AM" }, "new_cinema": { "arrival": "10:05 AM" }, "cuddalore_post_office": { "arrival": "10:10 AM" }, "gh": { "arrival": "10:15 AM" }, "semmandalam": { "arrival": "10:20 AM" }, "chavadi": { "arrival": "10:25 AM" }, "kondur": { "arrival": "10:30 AM" }, "vellagate": { "arrival": "10:35 AM" }, "nellikuppam_post_office": { "arrival": "10:40 AM" }, "nellikuppam_bus_stand": { "arrival": "10:45 AM" }, "police_station": { "arrival": "10:50 AM" }, "police_line": { "arrival": "10:55 AM" }, "mel_pattamapaakam": { "arrival": "11:00 AM" }, "annagramam": { "arrival": "11:05 AM" }, "thiruvathi": { "arrival": "11:10 AM" }, "panruti": { "arrival": "11:15 AM" } } },
                "routebus_cuddalore_1030": { "busName": "ROUTE BUS", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "10:30 AM" }, "new_cinema": { "arrival": "10:35 AM" }, "cuddalore_post_office": { "arrival": "10:40 AM" }, "gh": { "arrival": "10:45 AM" }, "semmandalam": { "arrival": "10:50 AM" }, "chavadi": { "arrival": "10:55 AM" }, "kondur": { "arrival": "11:00 AM" }, "vellagate": { "arrival": "11:05 AM" }, "nellikuppam_post_office": { "arrival": "11:10 AM" }, "nellikuppam_bus_stand": { "arrival": "11:15 AM" }, "police_station": { "arrival": "11:20 AM" }, "police_line": { "arrival": "11:25 AM" }, "mel_pattamapaakam": { "arrival": "11:30 AM" }, "annagramam": { "arrival": "11:35 AM" }, "thiruvathi": { "arrival": "11:40 AM" }, "panruti": { "arrival": "11:45 AM" } } },
                "routebus_cuddalore_1100": { "busName": "ROUTE BUS", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "11:00 AM" }, "new_cinema": { "arrival": "11:05 AM" }, "cuddalore_post_office": { "arrival": "11:10 AM" }, "gh": { "arrival": "11:15 AM" }, "semmandalam": { "arrival": "11:20 AM" }, "chavadi": { "arrival": "11:25 AM" }, "kondur": { "arrival": "11:30 AM" }, "vellagate": { "arrival": "11:35 AM" }, "nellikuppam_post_office": { "arrival": "11:40 AM" }, "nellikuppam_bus_stand": { "arrival": "11:45 AM" }, "police_station": { "arrival": "11:50 AM" }, "police_line": { "arrival": "11:55 AM" }, "mel_pattamapaakam": { "arrival": "12:00 PM" }, "annagramam": { "arrival": "12:05 PM" }, "thiruvathi": { "arrival": "12:10 PM" }, "panruti": { "arrival": "12:15 PM" } } },
                "ramajayam_cuddalore_1115": { "busName": "RAMAJAYAM", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "11:15 AM" }, "new_cinema": { "arrival": "11:20 AM" }, "cuddalore_post_office": { "arrival": "11:25 AM" }, "gh": { "arrival": "11:30 AM" }, "semmandalam": { "arrival": "11:35 AM" }, "chavadi": { "arrival": "11:40 AM" }, "kondur": { "arrival": "11:45 AM" }, "vellagate": { "arrival": "11:50 AM" }, "nellikuppam_post_office": { "arrival": "11:55 AM" }, "nellikuppam_bus_stand": { "arrival": "12:00 PM" }, "police_station": { "arrival": "12:05 PM" }, "police_line": { "arrival": "12:10 PM" }, "mel_pattamapaakam": { "arrival": "12:15 PM" }, "annagramam": { "arrival": "12:20 PM" }, "thiruvathi": { "arrival": "12:25 PM" }, "panruti": { "arrival": "12:30 PM" } } },
                "durga_cuddalore_1145": { "busName": "DURGA", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "11:45 AM" }, "new_cinema": { "arrival": "11:50 AM" }, "cuddalore_post_office": { "arrival": "11:55 AM" }, "gh": { "arrival": "12:00 PM" }, "semmandalam": { "arrival": "12:05 PM" }, "chavadi": { "arrival": "12:10 PM" }, "kondur": { "arrival": "12:15 PM" }, "vellagate": { "arrival": "12:20 PM" }, "nellikuppam_post_office": { "arrival": "12:25 PM" }, "nellikuppam_bus_stand": { "arrival": "12:30 PM" }, "police_station": { "arrival": "12:35 PM" }, "police_line": { "arrival": "12:40 PM" }, "mel_pattamapaakam": { "arrival": "12:45 PM" }, "annagramam": { "arrival": "12:50 PM" }, "thiruvathi": { "arrival": "12:55 PM" }, "panruti": { "arrival": "01:00 PM" } } },
                "routebus_cuddalore_1215": { "busName": "ROUTE BUS", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "12:15 PM" }, "new_cinema": { "arrival": "12:20 PM" }, "cuddalore_post_office": { "arrival": "12:25 PM" }, "gh": { "arrival": "12:30 PM" }, "semmandalam": { "arrival": "12:35 PM" }, "chavadi": { "arrival": "12:40 PM" }, "kondur": { "arrival": "12:45 PM" }, "vellagate": { "arrival": "12:50 PM" }, "nellikuppam_post_office": { "arrival": "12:55 PM" }, "nellikuppam_bus_stand": { "arrival": "01:00 PM" }, "police_station": { "arrival": "01:05 PM" }, "police_line": { "arrival": "01:10 PM" }, "mel_pattamapaakam": { "arrival": "01:15 PM" }, "annagramam": { "arrival": "01:20 PM" }, "thiruvathi": { "arrival": "01:25 PM" }, "panruti": { "arrival": "01:30 PM" } } },
                "routebus_cuddalore_1245": { "busName": "ROUTE BUS", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "12:45 PM" }, "new_cinema": { "arrival": "12:50 PM" }, "cuddalore_post_office": { "arrival": "12:55 PM" }, "gh": { "arrival": "01:00 PM" }, "semmandalam": { "arrival": "01:05 PM" }, "chavadi": { "arrival": "01:10 PM" }, "kondur": { "arrival": "01:15 PM" }, "vellagate": { "arrival": "01:20 PM" }, "nellikuppam_post_office": { "arrival": "01:25 PM" }, "nellikuppam_bus_stand": { "arrival": "01:30 PM" }, "police_station": { "arrival": "01:35 PM" }, "police_line": { "arrival": "01:40 PM" }, "mel_pattamapaakam": { "arrival": "01:45 PM" }, "annagramam": { "arrival": "01:50 PM" }, "thiruvathi": { "arrival": "01:55 PM" }, "panruti": { "arrival": "02:00 PM" } } },
                "ramavilas_cuddalore_0100": { "busName": "RAMA VILAS", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "01:00 PM" }, "new_cinema": { "arrival": "01:05 PM" }, "cuddalore_post_office": { "arrival": "01:10 AM" }, "gh": { "arrival": "01:15 PM" }, "semmandalam": { "arrival": "01:20 PM" }, "chavadi": { "arrival": "01:25 PM" }, "kondur": { "arrival": "01:30 PM" }, "vellagate": { "arrival": "01:35 PM" }, "nellikuppam_post_office": { "arrival": "01:40 PM" }, "nellikuppam_bus_stand": { "arrival": "01:45 PM" }, "police_station": { "arrival": "01:50 PM" }, "police_line": { "arrival": "01:55 PM" }, "mel_pattamapaakam": { "arrival": "02:00 PM" }, "annagramam": { "arrival": "02:05 PM" }, "thiruvathi": { "arrival": "02:10 PM" }, "panruti": { "arrival": "02:15 PM" } } },
                "sugam_cuddalore_0130": { "busName": "SUGAM", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "01:30 PM" }, "new_cinema": { "arrival": "01:35 PM" }, "cuddalore_post_office": { "arrival": "01:40 PM" }, "gh": { "arrival": "01:45 PM" }, "semmandalam": { "arrival": "01:50 PM" }, "chavadi": { "arrival": "01:55 PM" }, "kondur": { "arrival": "02:00 PM" }, "vellagate": { "arrival": "02:05 PM" }, "nellikuppam_post_office": { "arrival": "02:10 PM" }, "nellikuppam_bus_stand": { "arrival": "02:15 PM" }, "police_station": { "arrival": "02:20 PM" }, "police_line": { "arrival": "02:25 PM" }, "mel_pattamapaakam": { "arrival": "02:30 PM" }, "annagramam": { "arrival": "02:35 PM" }, "thiruvathi": { "arrival": "02:40 PM" }, "panruti": { "arrival": "02:45 PM" } } },
                "jayanthi_cuddalore_0200": { "busName": "JAYANTHI", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "02:00 PM" }, "new_cinema": { "arrival": "02:05 PM" }, "cuddalore_post_office": { "arrival": "02:10 PM" }, "gh": { "arrival": "02:15 PM" }, "semmandalam": { "arrival": "02:20 PM" }, "chavadi": { "arrival": "02:25 PM" }, "kondur": { "arrival": "02:30 PM" }, "vellagate": { "arrival": "02:35 PM" }, "nellikuppam_post_office": { "arrival": "02:40 PM" }, "nellikuppam_bus_stand": { "arrival": "02:45 PM" }, "police_station": { "arrival": "02:50 PM" }, "police_line": { "arrival": "02:55 PM" }, "mel_pattamapaakam": { "arrival": "03:00 PM" }, "annagramam": { "arrival": "03:05 PM" }, "thiruvathi": { "arrival": "03:10 PM" }, "panruti": { "arrival": "03:15 PM" } } },
                "akt_cuddalore_0230": { "busName": "AKT", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "02:30 PM" }, "new_cinema": { "arrival": "02:35 PM" }, "cuddalore_post_office": { "arrival": "02:40 PM" }, "gh": { "arrival": "02:45 PM" }, "semmandalam": { "arrival": "02:50 PM" }, "chavadi": { "arrival": "02:55 PM" }, "kondur": { "arrival": "03:00 PM" }, "vellagate": { "arrival": "03:05 PM" }, "nellikuppam_post_office": { "arrival": "03:10 PM" }, "nellikuppam_bus_stand": { "arrival": "03:15 PM" }, "police_station": { "arrival": "03:20 PM" }, "police_line": { "arrival": "03:25 PM" }, "mel_pattamapaakam": { "arrival": "03:30 PM" }, "annagramam": { "arrival": "03:35 PM" }, "thiruvathi": { "arrival": "03:40 PM" }, "panruti": { "arrival": "03:45 PM" } } },
                "rkr_cuddalore_0245": { "busName": "RKR", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "02:45 PM" }, "new_cinema": { "arrival": "02:50 PM" }, "cuddalore_post_office": { "arrival": "02:55 PM" }, "gh": { "arrival": "03:00 PM" }, "semmandalam": { "arrival": "03:05 PM" }, "chavadi": { "arrival": "03:10 PM" }, "kondur": { "arrival": "03:15 PM" }, "vellagate": { "arrival": "03:20 PM" }, "nellikuppam_post_office": { "arrival": "03:25 PM" }, "nellikuppam_bus_stand": { "arrival": "03:30 PM" }, "police_station": { "arrival": "03:35 PM" }, "police_line": { "arrival": "03:40 PM" }, "mel_pattamapaakam": { "arrival": "03:45 PM" }, "annagramam": { "arrival": "03:50 PM" }, "thiruvathi": { "arrival": "03:55 PM" }, "panruti": { "arrival": "04:00 PM" } } },
                "ramavilas_cuddalore_0315": { "busName": "RAMA VILAS", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "03:15 PM" }, "new_cinema": { "arrival": "03:20 PM" }, "cuddalore_post_office": { "arrival": "03:25 PM" }, "gh": { "arrival": "03:30 PM" }, "semmandalam": { "arrival": "03:35 PM" }, "chavadi": { "arrival": "03:40 PM" }, "kondur": { "arrival": "03:45 PM" }, "vellagate": { "arrival": "03:50 PM" }, "nellikuppam_post_office": { "arrival": "03:55 PM" }, "nellikuppam_bus_stand": { "arrival": "04:00 PM" }, "police_station": { "arrival": "04:05 PM" }, "police_line": { "arrival": "04:10 PM" }, "mel_pattamapaakam": { "arrival": "04:15 PM" }, "annagramam": { "arrival": "04:20 PM" }, "thiruvathi": { "arrival": "04:25 PM" }, "panruti": { "arrival": "04:30 PM" } } },
                "routebus_cuddalore_0345": { "busName": "ROUTE BUS", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "03:45 PM" }, "new_cinema": { "arrival": "03:50 PM" }, "cuddalore_post_office": { "arrival": "03:55 PM" }, "gh": { "arrival": "04:00 PM" }, "semmandalam": { "arrival": "04:05 PM" }, "chavadi": { "arrival": "04:10 PM" }, "kondur": { "arrival": "04:15 PM" }, "vellagate": { "arrival": "04:20 PM" }, "nellikuppam_post_office": { "arrival": "04:25 PM" }, "nellikuppam_bus_stand": { "arrival": "04:30 PM" }, "police_station": { "arrival": "04:35 PM" }, "police_line": { "arrival": "04:40 PM" }, "mel_pattamapaakam": { "arrival": "04:45 PM" }, "annagramam": { "arrival": "04:50 PM" }, "thiruvathi": { "arrival": "04:55 PM" }, "panruti": { "arrival": "05:00 PM" } } },
                "routebus_cuddalore_0415": { "busName": "ROUTE BUS", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "04:15 PM" }, "new_cinema": { "arrival": "04:20 PM" }, "cuddalore_post_office": { "arrival": "04:25 PM" }, "gh": { "arrival": "04:30 PM" }, "semmandalam": { "arrival": "04:35 PM" }, "chavadi": { "arrival": "04:40 PM" }, "kondur": { "arrival": "04:45 PM" }, "vellagate": { "arrival": "04:50 PM" }, "nellikuppam_post_office": { "arrival": "04:55 PM" }, "nellikuppam_bus_stand": { "arrival": "05:00 PM" }, "police_station": { "arrival": "05:05 PM" }, "police_line": { "arrival": "05:10 PM" }, "mel_pattamapaakam": { "arrival": "05:15 PM" }, "annagramam": { "arrival": "05:20 PM" }, "thiruvathi": { "arrival": "05:25 PM" }, "panruti": { "arrival": "05:30 PM" } } },
                "sbrs_cuddalore_0430": { "busName": "SBRS", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "04:30 PM" }, "new_cinema": { "arrival": "04:35 PM" }, "cuddalore_post_office": { "arrival": "04:40 PM" }, "gh": { "arrival": "04:45 PM" }, "semmandalam": { "arrival": "04:50 PM" }, "chavadi": { "arrival": "04:55 PM" }, "kondur": { "arrival": "05:00 PM" }, "vellagate": { "arrival": "05:05 PM" }, "nellikuppam_post_office": { "arrival": "05:10 PM" }, "nellikuppam_bus_stand": { "arrival": "05:15 PM" }, "police_station": { "arrival": "05:20 PM" }, "police_line": { "arrival": "05:25 PM" }, "mel_pattamapaakam": { "arrival": "05:30 PM" }, "annagramam": { "arrival": "05:35 PM" }, "thiruvathi": { "arrival": "05:40 PM" }, "panruti": { "arrival": "05:45 PM" } } },
                "nrs_cuddalore_0500": { "busName": "NRS", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "05:00 PM" }, "new_cinema": { "arrival": "05:05 PM" }, "cuddalore_post_office": { "arrival": "05:10 PM" }, "gh": { "arrival": "05:15 PM" }, "semmandalam": { "arrival": "05:20 PM" }, "chavadi": { "arrival": "05:25 PM" }, "kondur": { "arrival": "05:30 PM" }, "vellagate": { "arrival": "05:35 PM" }, "nellikuppam_post_office": { "arrival": "05:40 PM" }, "nellikuppam_bus_stand": { "arrival": "05:45 PM" }, "police_station": { "arrival": "05:50 PM" }, "police_line": { "arrival": "05:55 PM" }, "mel_pattamapaakam": { "arrival": "06:00 PM" }, "annagramam": { "arrival": "06:05 PM" }, "thiruvathi": { "arrival": "06:10 PM" }, "panruti": { "arrival": "06:15 PM" } } },
                "sugam_cuddalore_0530": { "busName": "SUGAM", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "05:30 PM" }, "new_cinema": { "arrival": "05:35 PM" }, "cuddalore_post_office": { "arrival": "05:40 PM" }, "gh": { "arrival": "05:45 PM" }, "semmandalam": { "arrival": "05:50 PM" }, "chavadi": { "arrival": "05:55 PM" }, "kondur": { "arrival": "06:00 PM" }, "vellagate": { "arrival": "06:05 PM" }, "nellikuppam_post_office": { "arrival": "06:10 PM" }, "nellikuppam_bus_stand": { "arrival": "06:15 PM" }, "police_station": { "arrival": "06:20 PM" }, "police_line": { "arrival": "06:25 PM" }, "mel_pattamapaakam": { "arrival": "06:30 PM" }, "annagramam": { "arrival": "06:35 PM" }, "thiruvathi": { "arrival": "06:40 PM" }, "panruti": { "arrival": "06:45 PM" } } },
                "routebus_cuddalore_0600": { "busName": "ROUTE BUS", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "06:00 PM" }, "new_cinema": { "arrival": "06:05 PM" }, "cuddalore_post_office": { "arrival": "06:10 PM" }, "gh": { "arrival": "06:15 PM" }, "semmandalam": { "arrival": "06:20 PM" }, "chavadi": { "arrival": "06:25 PM" }, "kondur": { "arrival": "06:30 PM" }, "vellagate": { "arrival": "06:35 PM" }, "nellikuppam_post_office": { "arrival": "06:40 PM" }, "nellikuppam_bus_stand": { "arrival": "06:45 PM" }, "police_station": { "arrival": "06:50 PM" }, "police_line": { "arrival": "06:55 PM" }, "mel_pattamapaakam": { "arrival": "07:00 PM" }, "annagramam": { "arrival": "07:05 PM" }, "thiruvathi": { "arrival": "07:10 PM" }, "panruti": { "arrival": "07:15 PM" } } },
                "rkr_cuddalore_0615": { "busName": "RKR", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "06:15 PM" }, "new_cinema": { "arrival": "06:20 PM" }, "cuddalore_post_office": { "arrival": "06:25 PM" }, "gh": { "arrival": "06:30 PM" }, "semmandalam": { "arrival": "06:35 PM" }, "chavadi": { "arrival": "06:40 PM" }, "kondur": { "arrival": "06:45 PM" }, "vellagate": { "arrival": "06:50 PM" }, "nellikuppam_post_office": { "arrival": "06:55 PM" }, "nellikuppam_bus_stand": { "arrival": "07:00 PM" }, "police_station": { "arrival": "07:05 PM" }, "police_line": { "arrival": "07:10 PM" }, "mel_pattamapaakam": { "arrival": "07:15 PM" }, "annagramam": { "arrival": "07:20 PM" }, "thiruvathi": { "arrival": "07:25 PM" }, "panruti": { "arrival": "07:30 PM" } } },
                "routebus_cuddalore_0645": { "busName": "ROUTE BUS", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "06:45 PM" }, "new_cinema": { "arrival": "06:50 PM" }, "cuddalore_post_office": { "arrival": "06:55 PM" }, "gh": { "arrival": "07:00 PM" }, "semmandalam": { "arrival": "07:05 PM" }, "chavadi": { "arrival": "07:10 PM" }, "kondur": { "arrival": "07:15 PM" }, "vellagate": { "arrival": "07:20 PM" }, "nellikuppam_post_office": { "arrival": "07:25 PM" }, "nellikuppam_bus_stand": { "arrival": "07:30 PM" }, "police_station": { "arrival": "07:35 PM" }, "police_line": { "arrival": "07:40 PM" }, "mel_pattamapaakam": { "arrival": "07:45 PM" }, "annagramam": { "arrival": "07:50 PM" }, "thiruvathi": { "arrival": "07:55 PM" }, "panruti": { "arrival": "08:00 PM" } } },
                "jayanthi_cuddalore_0715": { "busName": "JAYANTHI", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "07:15 PM" }, "new_cinema": { "arrival": "07:20 PM" }, "cuddalore_post_office": { "arrival": "07:25 PM" }, "gh": { "arrival": "07:30 PM" }, "semmandalam": { "arrival": "07:35 PM" }, "chavadi": { "arrival": "07:40 PM" }, "kondur": { "arrival": "07:45 PM" }, "vellagate": { "arrival": "07:50 PM" }, "nellikuppam_post_office": { "arrival": "07:55 PM" }, "nellikuppam_bus_stand": { "arrival": "08:00 PM" }, "police_station": { "arrival": "08:05 PM" }, "police_line": { "arrival": "08:10 PM" }, "mel_pattamapaakam": { "arrival": "08:15 PM" }, "annagramam": { "arrival": "08:20 PM" }, "thiruvathi": { "arrival": "08:25 PM" }, "panruti": { "arrival": "08:30 PM" } } },
                "durga_cuddalore_0745": { "busName": "DURGA", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "07:45 PM" }, "new_cinema": { "arrival": "07:50 PM" }, "cuddalore_post_office": { "arrival": "07:55 PM" }, "gh": { "arrival": "08:00 PM" }, "semmandalam": { "arrival": "08:05 PM" }, "chavadi": { "arrival": "08:10 PM" }, "kondur": { "arrival": "08:15 PM" }, "vellagate": { "arrival": "08:20 PM" }, "nellikuppam_post_office": { "arrival": "08:25 PM" }, "nellikuppam_bus_stand": { "arrival": "08:30 PM" }, "police_station": { "arrival": "08:35 PM" }, "police_line": { "arrival": "08:40 PM" }, "mel_pattamapaakam": { "arrival": "08:45 PM" }, "annagramam": { "arrival": "08:50 PM" }, "thiruvathi": { "arrival": "08:55 PM" }, "panruti": { "arrival": "09:00 PM" } } },
                "akt_cuddalore_0800": { "busName": "AKT", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "08:00 PM" }, "new_cinema": { "arrival": "08:05 PM" }, "cuddalore_post_office": { "arrival": "08:10 PM" }, "gh": { "arrival": "08:15 PM" }, "semmandalam": { "arrival": "08:20 PM" }, "chavadi": { "arrival": "08:25 PM" }, "kondur": { "arrival": "08:30 PM" }, "vellagate": { "arrival": "08:35 PM" }, "nellikuppam_post_office": { "arrival": "08:40 PM" }, "nellikuppam_bus_stand": { "arrival": "08:45 PM" }, "police_station": { "arrival": "08:50 PM" }, "police_line": { "arrival": "08:55 PM" }, "mel_pattamapaakam": { "arrival": "09:00 PM" }, "annagramam": { "arrival": "09:05 PM" }, "thiruvathi": { "arrival": "09:10 PM" }, "panruti": { "arrival": "09:15 PM" } } },
                "ganeshan_cuddalore_0830": { "busName": "GANESHAN", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "08:30 PM" }, "new_cinema": { "arrival": "08:35 PM" }, "cuddalore_post_office": { "arrival": "08:40 PM" }, "gh": { "arrival": "08:45 PM" }, "semmandalam": { "arrival": "08:50 PM" }, "chavadi": { "arrival": "08:55 PM" }, "kondur": { "arrival": "09:00 PM" }, "vellagate": { "arrival": "09:05 PM" }, "nellikuppam_post_office": { "arrival": "09:10 PM" }, "nellikuppam_bus_stand": { "arrival": "09:15 PM" }, "police_station": { "arrival": "09:20 PM" }, "police_line": { "arrival": "09:25 PM" }, "mel_pattamapaakam": { "arrival": "09:30 PM" }, "annagramam": { "arrival": "09:35 PM" }, "thiruvathi": { "arrival": "09:40 PM" }, "panruti": { "arrival": "09:45 PM" } } },
                "ramajayam_cuddalore_0900": { "busName": "RAMAJAYAM", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "09:00 PM" }, "new_cinema": { "arrival": "09:05 PM" }, "cuddalore_post_office": { "arrival": "09:10 PM" }, "gh": { "arrival": "09:15 PM" }, "semmandalam": { "arrival": "09:20 PM" }, "chavadi": { "arrival": "09:25 PM" }, "kondur": { "arrival": "09:30 PM" }, "vellagate": { "arrival": "09:35 PM" }, "nellikuppam_post_office": { "arrival": "09:40 PM" }, "nellikuppam_bus_stand": { "arrival": "09:45 PM" }, "police_station": { "arrival": "09:50 PM" }, "police_line": { "arrival": "09:55 PM" }, "mel_pattamapaakam": { "arrival": "10:00 PM" }, "annagramam": { "arrival": "10:05 PM" }, "thiruvathi": { "arrival": "10:10 PM" }, "panruti": { "arrival": "10:15 PM" } } },
                "routebus_cuddalore_0930": { "busName": "ROUTE BUS", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "09:30 PM" }, "new_cinema": { "arrival": "09:35 PM" }, "cuddalore_post_office": { "arrival": "09:40 PM" }, "gh": { "arrival": "09:45 PM" }, "semmandalam": { "arrival": "09:50 PM" }, "chavadi": { "arrival": "09:55 PM" }, "kondur": { "arrival": "10:00 PM" }, "vellagate": { "arrival": "10:05 PM" }, "nellikuppam_post_office": { "arrival": "10:10 PM" }, "nellikuppam_bus_stand": { "arrival": "10:15 PM" }, "police_station": { "arrival": "10:20 PM" }, "police_line": { "arrival": "10:25 PM" }, "mel_pattamapaakam": { "arrival": "10:30 PM" }, "annagramam": { "arrival": "10:35 PM" }, "thiruvathi": { "arrival": "10:40 PM" }, "panruti": { "arrival": "10:45 PM" } } },
                "routebus_cuddalore_0945": { "busName": "ROUTE BUS", "routeId": "cuddalore_to_panruti", "capacity": 50, "scheduleTimes": { "cuddalore_bus_stand": { "departure": "09:45 PM" }, "new_cinema": { "arrival": "09:50 PM" }, "cuddalore_post_office": { "arrival": "09:55 PM" }, "gh": { "arrival": "10:00 PM" }, "semmandalam": { "arrival": "10:05 PM" }, "chavadi": { "arrival": "10:10 PM" }, "kondur": { "arrival": "10:15 PM" }, "vellagate": { "arrival": "10:20 PM" }, "nellikuppam_post_office": { "arrival": "10:25 PM" }, "nellikuppam_bus_stand": { "arrival": "10:30 PM" }, "police_station": { "arrival": "10:35 PM" }, "police_line": { "arrival": "10:40 PM" }, "mel_pattamapaakam": { "arrival": "10:45 PM" }, "annagramam": { "arrival": "10:50 PM" }, "thiruvathi": { "arrival": "10:55 PM" }, "panruti": { "arrival": "11:00 PM" } } },
                "rkr_panruti_0600": { "busName": "RKR", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "06:00 AM" }, "thiruvathi": { "arrival": "06:05 AM" }, "annagramam": { "arrival": "06:10 AM" }, "mel_pattamapaakam": { "arrival": "06:15 AM" }, "police_line": { "arrival": "06:20 AM" }, "police_station": { "arrival": "06:25 AM" }, "nellikuppam_bus_stand": { "arrival": "06:30 AM" }, "nellikuppam_post_office": { "arrival": "06:35 AM" }, "vellagate": { "arrival": "06:40 AM" }, "kondur": { "arrival": "06:45 AM" }, "chavadi": { "arrival": "06:50 AM" }, "semmandalam": { "arrival": "06:55 AM" }, "gh": { "arrival": "07:00 AM" }, "cuddalore_post_office": { "arrival": "07:05 AM" }, "new_cinema": { "arrival": "07:10 AM" }, "cuddalore_bus_stand": { "arrival": "07:15 AM" } } },
                "nrs_panruti_0630": { "busName": "NRS", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "06:30 AM" }, "thiruvathi": { "arrival": "06:35 AM" }, "annagramam": { "arrival": "06:40 AM" }, "mel_pattamapaakam": { "arrival": "06:45 AM" }, "police_line": { "arrival": "06:50 AM" }, "police_station": { "arrival": "06:55 AM" }, "nellikuppam_bus_stand": { "arrival": "07:00 AM" }, "nellikuppam_post_office": { "arrival": "07:05 AM" }, "vellagate": { "arrival": "07:10 AM" }, "kondur": { "arrival": "07:15 AM" }, "chavadi": { "arrival": "07:20 AM" }, "semmandalam": { "arrival": "07:25 AM" }, "gh": { "arrival": "07:30 AM" }, "cuddalore_post_office": { "arrival": "07:35 AM" }, "new_cinema": { "arrival": "07:40 AM" }, "cuddalore_bus_stand": { "arrival": "07:45 AM" } } },
                "ems_panruti_0700": { "busName": "EMS", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "07:00 AM" }, "thiruvathi": { "arrival": "07:05 AM" }, "annagramam": { "arrival": "07:10 AM" }, "mel_pattamapaakam": { "arrival": "07:15 AM" }, "police_line": { "arrival": "07:20 AM" }, "police_station": { "arrival": "07:25 AM" }, "nellikuppam_bus_stand": { "arrival": "07:30 AM" }, "nellikuppam_post_office": { "arrival": "07:35 AM" }, "vellagate": { "arrival": "07:40 AM" }, "kondur": { "arrival": "07:45 AM" }, "chavadi": { "arrival": "07:50 AM" }, "semmandalam": { "arrival": "07:55 AM" }, "gh": { "arrival": "08:00 AM" }, "cuddalore_post_office": { "arrival": "08:05 AM" }, "new_cinema": { "arrival": "08:10 AM" }, "cuddalore_bus_stand": { "arrival": "08:15 AM" } } },
                "routebus_panruti_0730": { "busName": "ROUTE BUS", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "07:30 AM" }, "thiruvathi": { "arrival": "07:35 AM" }, "annagramam": { "arrival": "07:40 AM" }, "mel_pattamapaakam": { "arrival": "07:45 AM" }, "police_line": { "arrival": "07:50 AM" }, "police_station": { "arrival": "07:55 AM" }, "nellikuppam_bus_stand": { "arrival": "08:00 AM" }, "nellikuppam_post_office": { "arrival": "08:05 AM" }, "vellagate": { "arrival": "08:10 AM" }, "kondur": { "arrival": "08:15 AM" }, "chavadi": { "arrival": "08:20 AM" }, "semmandalam": { "arrival": "08:25 AM" }, "gh": { "arrival": "08:30 AM" }, "cuddalore_post_office": { "arrival": "08:35 AM" }, "new_cinema": { "arrival": "08:40 AM" }, "cuddalore_bus_stand": { "arrival": "08:45 AM" } } },
                "thendral_panruti_0745": { "busName": "THENDRAL", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "07:45 AM" }, "thiruvathi": { "arrival": "07:50 AM" }, "annagramam": { "arrival": "07:55 AM" }, "mel_pattamapaakam": { "arrival": "08:00 AM" }, "police_line": { "arrival": "08:05 AM" }, "police_station": { "arrival": "08:10 AM" }, "nellikuppam_bus_stand": { "arrival": "08:15 AM" }, "nellikuppam_post_office": { "arrival": "08:20 AM" }, "vellagate": { "arrival": "08:25 AM" }, "kondur": { "arrival": "08:30 AM" }, "chavadi": { "arrival": "08:35 AM" }, "semmandalam": { "arrival": "08:40 AM" }, "gh": { "arrival": "08:45 AM" }, "cuddalore_post_office": { "arrival": "08:50 AM" }, "new_cinema": { "arrival": "08:55 AM" }, "cuddalore_bus_stand": { "arrival": "09:00 AM" } } },
                "akt_panruti_0815": { "busName": "AKT", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "08:15 AM" }, "thiruvathi": { "arrival": "08:20 AM" }, "annagramam": { "arrival": "08:25 AM" }, "mel_pattamapaakam": { "arrival": "08:30 AM" }, "police_line": { "arrival": "08:35 AM" }, "police_station": { "arrival": "08:40 AM" }, "nellikuppam_bus_stand": { "arrival": "08:45 AM" }, "nellikuppam_post_office": { "arrival": "08:50 AM" }, "vellagate": { "arrival": "08:55 AM" }, "kondur": { "arrival": "09:00 AM" }, "chavadi": { "arrival": "09:05 AM" }, "semmandalam": { "arrival": "09:10 AM" }, "gh": { "arrival": "09:15 AM" }, "cuddalore_post_office": { "arrival": "09:20 AM" }, "new_cinema": { "arrival": "09:25 AM" }, "cuddalore_bus_stand": { "arrival": "09:30 AM" } } },
                "ganeshan_panruti_0845": { "busName": "GANESHAN", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "08:45 AM" }, "thiruvathi": { "arrival": "08:50 AM" }, "annagramam": { "arrival": "08:55 AM" }, "mel_pattamapaakam": { "arrival": "09:00 AM" }, "police_line": { "arrival": "09:05 AM" }, "police_station": { "arrival": "09:10 AM" }, "nellikuppam_bus_stand": { "arrival": "09:15 AM" }, "nellikuppam_post_office": { "arrival": "09:20 AM" }, "vellagate": { "arrival": "09:25 AM" }, "kondur": { "arrival": "09:30 AM" }, "chavadi": { "arrival": "09:35 AM" }, "semmandalam": { "arrival": "09:40 AM" }, "gh": { "arrival": "09:45 AM" }, "cuddalore_post_office": { "arrival": "09:50 AM" }, "new_cinema": { "arrival": "09:55 AM" }, "cuddalore_bus_stand": { "arrival": "10:00 AM" } } },
                "routebus_panruti_0915": { "busName": "ROUTE BUS", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "09:15 AM" }, "thiruvathi": { "arrival": "09:20 AM" }, "annagramam": { "arrival": "09:25 AM" }, "mel_pattamapaakam": { "arrival": "09:30 AM" }, "police_line": { "arrival": "09:35 AM" }, "police_station": { "arrival": "09:40 AM" }, "nellikuppam_bus_stand": { "arrival": "09:45 AM" }, "nellikuppam_post_office": { "arrival": "09:50 AM" }, "vellagate": { "arrival": "09:55 AM" }, "kondur": { "arrival": "10:00 AM" }, "chavadi": { "arrival": "10:05 AM" }, "semmandalam": { "arrival": "10:10 AM" }, "gh": { "arrival": "10:15 AM" }, "cuddalore_post_office": { "arrival": "10:20 AM" }, "new_cinema": { "arrival": "10:25 AM" }, "cuddalore_bus_stand": { "arrival": "10:30 AM" } } },
                "ramajayam_panruti_0930": { "busName": "RAMAJAYAM", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "09:30 AM" }, "thiruvathi": { "arrival": "09:35 AM" }, "annagramam": { "arrival": "09:40 AM" }, "mel_pattamapaakam": { "arrival": "09:45 AM" }, "police_line": { "arrival": "09:50 AM" }, "police_station": { "arrival": "09:55 AM" }, "nellikuppam_bus_stand": { "arrival": "10:00 AM" }, "nellikuppam_post_office": { "arrival": "10:05 AM" }, "vellagate": { "arrival": "10:10 AM" }, "kondur": { "arrival": "10:15 AM" }, "chavadi": { "arrival": "10:20 AM" }, "semmandalam": { "arrival": "10:25 AM" }, "gh": { "arrival": "10:30 AM" }, "cuddalore_post_office": { "arrival": "10:35 AM" }, "new_cinema": { "arrival": "10:40 AM" }, "cuddalore_bus_stand": { "arrival": "10:45 AM" } } },
                "durga_panruti_1000": { "busName": "DURGA", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "10:00 AM" }, "thiruvathi": { "arrival": "10:05 AM" }, "annagramam": { "arrival": "10:10 AM" }, "mel_pattamapaakam": { "arrival": "10:15 AM" }, "police_line": { "arrival": "10:20 AM" }, "police_station": { "arrival": "10:25 AM" }, "nellikuppam_bus_stand": { "arrival": "10:30 AM" }, "nellikuppam_post_office": { "arrival": "10:35 AM" }, "vellagate": { "arrival": "10:40 AM" }, "kondur": { "arrival": "10:45 AM" }, "chavadi": { "arrival": "10:50 AM" }, "semmandalam": { "arrival": "10:55 AM" }, "gh": { "arrival": "11:00 AM" }, "cuddalore_post_office": { "arrival": "11:05 AM" }, "new_cinema": { "arrival": "11:10 AM" }, "cuddalore_bus_stand": { "arrival": "11:15 AM" } } },
                "routebus_panruti_1030": { "busName": "ROUTE BUS", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "10:30 AM" }, "thiruvathi": { "arrival": "10:35 AM" }, "annagramam": { "arrival": "10:40 AM" }, "mel_pattamapaakam": { "arrival": "10:45 AM" }, "police_line": { "arrival": "10:50 AM" }, "police_station": { "arrival": "10:55 AM" }, "nellikuppam_bus_stand": { "arrival": "11:00 AM" }, "nellikuppam_post_office": { "arrival": "11:05 AM" }, "vellagate": { "arrival": "11:10 AM" }, "kondur": { "arrival": "11:15 AM" }, "chavadi": { "arrival": "11:20 AM" }, "semmandalam": { "arrival": "11:25 AM" }, "gh": { "arrival": "11:30 AM" }, "cuddalore_post_office": { "arrival": "11:35 AM" }, "new_cinema": { "arrival": "11:40 AM" }, "cuddalore_bus_stand": { "arrival": "11:45 AM" } } },
                "balaji_panruti_1100": { "busName": "BALAJI", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "11:00 AM" }, "thiruvathi": { "arrival": "11:05 AM" }, "annagramam": { "arrival": "11:10 AM" }, "mel_pattamapaakam": { "arrival": "11:15 AM" }, "police_line": { "arrival": "11:20 AM" }, "police_station": { "arrival": "11:25 AM" }, "nellikuppam_bus_stand": { "arrival": "11:30 AM" }, "nellikuppam_post_office": { "arrival": "11:35 AM" }, "vellagate": { "arrival": "11:40 AM" }, "kondur": { "arrival": "11:45 AM" }, "chavadi": { "arrival": "11:50 AM" }, "semmandalam": { "arrival": "11:55 AM" }, "gh": { "arrival": "12:00 PM" }, "cuddalore_post_office": { "arrival": "12:05 PM" }, "new_cinema": { "arrival": "12:10 PM" }, "cuddalore_bus_stand": { "arrival": "12:15 PM" } } },
                "svrs_panruti_1115": { "busName": "SVRS", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "11:15 AM" }, "thiruvathi": { "arrival": "11:20 AM" }, "annagramam": { "arrival": "11:25 AM" }, "mel_pattamapaakam": { "arrival": "11:30 AM" }, "police_line": { "arrival": "11:35 AM" }, "police_station": { "arrival": "11:40 AM" }, "nellikuppam_bus_stand": { "arrival": "11:45 AM" }, "nellikuppam_post_office": { "arrival": "11:50 AM" }, "vellagate": { "arrival": "11:55 AM" }, "kondur": { "arrival": "12:00 PM" }, "chavadi": { "arrival": "12:05 PM" }, "semmandalam": { "arrival": "12:10 PM" }, "gh": { "arrival": "12:15 PM" }, "cuddalore_post_office": { "arrival": "12:20 PM" }, "new_cinema": { "arrival": "12:25 PM" }, "cuddalore_bus_stand": { "arrival": "12:30 PM" } } },
                "routebus_panruti_1145": { "busName": "ROUTE BUS", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "11:45 AM" }, "thiruvathi": { "arrival": "11:50 AM" }, "annagramam": { "arrival": "11:55 AM" }, "mel_pattamapaakam": { "arrival": "12:00 PM" }, "police_line": { "arrival": "12:05 PM" }, "police_station": { "arrival": "12:10 PM" }, "nellikuppam_bus_stand": { "arrival": "12:15 PM" }, "nellikuppam_post_office": { "arrival": "12:20 PM" }, "vellagate": { "arrival": "12:25 PM" }, "kondur": { "arrival": "12:30 PM" }, "chavadi": { "arrival": "12:35 PM" }, "semmandalam": { "arrival": "12:40 PM" }, "gh": { "arrival": "12:45 PM" }, "cuddalore_post_office": { "arrival": "12:50 PM" }, "new_cinema": { "arrival": "12:55 PM" }, "cuddalore_bus_stand": { "arrival": "01:00 PM" } } },
                "routebus_panruti_1215": { "busName": "ROUTE BUS", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "12:15 PM" }, "thiruvathi": { "arrival": "12:20 PM" }, "annagramam": { "arrival": "12:25 PM" }, "mel_pattamapaakam": { "arrival": "12:30 PM" }, "police_line": { "arrival": "12:35 PM" }, "police_station": { "arrival": "12:40 PM" }, "nellikuppam_bus_stand": { "arrival": "12:45 PM" }, "nellikuppam_post_office": { "arrival": "12:50 PM" }, "vellagate": { "arrival": "12:55 PM" }, "kondur": { "arrival": "01:00 PM" }, "chavadi": { "arrival": "01:05 PM" }, "semmandalam": { "arrival": "01:10 PM" }, "gh": { "arrival": "01:15 PM" }, "cuddalore_post_office": { "arrival": "01:20 PM" }, "new_cinema": { "arrival": "01:25 PM" }, "cuddalore_bus_stand": { "arrival": "01:30 PM" } } },
                "jayanthi_panruti_1245": { "busName": "JAYANTHI", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "12:45 PM" }, "thiruvathi": { "arrival": "12:50 PM" }, "annagramam": { "arrival": "12:55 PM" }, "mel_pattamapaakam": { "arrival": "01:00 PM" }, "police_line": { "arrival": "01:05 PM" }, "police_station": { "arrival": "01:10 PM" }, "nellikuppam_bus_stand": { "arrival": "01:15 PM" }, "nellikuppam_post_office": { "arrival": "01:20 PM" }, "vellagate": { "arrival": "01:25 PM" }, "kondur": { "arrival": "01:30 PM" }, "chavadi": { "arrival": "01:35 PM" }, "semmandalam": { "arrival": "01:40 PM" }, "gh": { "arrival": "01:45 PM" }, "cuddalore_post_office": { "arrival": "01:50 PM" }, "new_cinema": { "arrival": "01:55 PM" }, "cuddalore_bus_stand": { "arrival": "02:00 PM" } } },
                "ramavilas_panruti_0100": { "busName": "RAMA VILAS", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "01:00 PM" }, "thiruvathi": { "arrival": "01:05 PM" }, "annagramam": { "arrival": "01:10 PM" }, "mel_pattamapaakam": { "arrival": "01:15 PM" }, "police_line": { "arrival": "01:20 PM" }, "police_station": { "arrival": "01:25 PM" }, "nellikuppam_bus_stand": { "arrival": "01:30 PM" }, "nellikuppam_post_office": { "arrival": "01:35 PM" }, "vellagate": { "arrival": "01:40 PM" }, "kondur": { "arrival": "01:45 PM" }, "chavadi": { "arrival": "01:50 PM" }, "semmandalam": { "arrival": "01:55 PM" }, "gh": { "arrival": "02:00 PM" }, "cuddalore_post_office": { "arrival": "02:05 PM" }, "new_cinema": { "arrival": "02:10 PM" }, "cuddalore_bus_stand": { "arrival": "02:15 PM" } } },
                "sugam_panruti_0130": { "busName": "SUGAM", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "01:30 PM" }, "thiruvathi": { "arrival": "01:35 PM" }, "annagramam": { "arrival": "01:40 PM" }, "mel_pattamapaakam": { "arrival": "01:45 PM" }, "police_line": { "arrival": "01:50 PM" }, "police_station": { "arrival": "01:55 PM" }, "nellikuppam_bus_stand": { "arrival": "02:00 PM" }, "nellikuppam_post_office": { "arrival": "02:05 PM" }, "vellagate": { "arrival": "02:10 PM" }, "kondur": { "arrival": "02:15 PM" }, "chavadi": { "arrival": "02:20 PM" }, "semmandalam": { "arrival": "02:25 PM" }, "gh": { "arrival": "02:30 PM" }, "cuddalore_post_office": { "arrival": "02:35 PM" }, "new_cinema": { "arrival": "02:40 PM" }, "cuddalore_bus_stand": { "arrival": "02:45 PM" } } },
                "routebus_panruti_0200": { "busName": "ROUTE BUS", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "02:00 PM" }, "thiruvathi": { "arrival": "02:05 PM" }, "annagramam": { "arrival": "02:10 PM" }, "mel_pattamapaakam": { "arrival": "02:15 PM" }, "police_line": { "arrival": "02:20 PM" }, "police_station": { "arrival": "02:25 PM" }, "nellikuppam_bus_stand": { "arrival": "02:30 PM" }, "nellikuppam_post_office": { "arrival": "02:35 PM" }, "vellagate": { "arrival": "02:40 PM" }, "kondur": { "arrival": "02:45 PM" }, "chavadi": { "arrival": "02:50 PM" }, "semmandalam": { "arrival": "02:55 PM" }, "gh": { "arrival": "03:00 PM" }, "cuddalore_post_office": { "arrival": "03:05 PM" }, "new_cinema": { "arrival": "03:10 PM" }, "cuddalore_bus_stand": { "arrival": "03:15 PM" } } },
                "routebus_panruti_0230": { "busName": "ROUTE BUS", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "02:30 PM" }, "thiruvathi": { "arrival": "02:35 PM" }, "annagramam": { "arrival": "02:40 PM" }, "mel_pattamapaakam": { "arrival": "02:45 PM" }, "police_line": { "arrival": "02:50 PM" }, "police_station": { "arrival": "02:55 PM" }, "nellikuppam_bus_stand": { "arrival": "03:00 PM" }, "nellikuppam_post_office": { "arrival": "03:05 PM" }, "vellagate": { "arrival": "03:10 PM" }, "kondur": { "arrival": "03:15 PM" }, "chavadi": { "arrival": "03:20 PM" }, "semmandalam": { "arrival": "03:25 PM" }, "gh": { "arrival": "03:30 PM" }, "cuddalore_post_office": { "arrival": "03:35 PM" }, "new_cinema": { "arrival": "03:40 PM" }, "cuddalore_bus_stand": { "arrival": "03:45 PM" } } },
                "rkr_panruti_0245": { "busName": "RKR", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "02:45 PM" }, "thiruvathi": { "arrival": "02:50 PM" }, "annagramam": { "arrival": "02:55 PM" }, "mel_pattamapaakam": { "arrival": "03:00 PM" }, "police_line": { "arrival": "03:05 PM" }, "police_station": { "arrival": "03:10 PM" }, "nellikuppam_bus_stand": { "arrival": "03:15 PM" }, "nellikuppam_post_office": { "arrival": "03:20 PM" }, "vellagate": { "arrival": "03:25 PM" }, "kondur": { "arrival": "03:30 PM" }, "chavadi": { "arrival": "03:35 PM" }, "semmandalam": { "arrival": "03:40 PM" }, "gh": { "arrival": "03:45 PM" }, "cuddalore_post_office": { "arrival": "03:50 PM" }, "new_cinema": { "arrival": "03:55 PM" }, "cuddalore_bus_stand": { "arrival": "04:00 PM" } } },
                "akt_panruti_0315": { "busName": "AKT", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "03:15 PM" }, "thiruvathi": { "arrival": "03:20 PM" }, "annagramam": { "arrival": "03:25 PM" }, "mel_pattamapaakam": { "arrival": "03:30 PM" }, "police_line": { "arrival": "03:35 PM" }, "police_station": { "arrival": "03:40 PM" }, "nellikuppam_bus_stand": { "arrival": "03:45 PM" }, "nellikuppam_post_office": { "arrival": "03:50 PM" }, "vellagate": { "arrival": "03:55 PM" }, "kondur": { "arrival": "04:00 PM" }, "chavadi": { "arrival": "04:05 PM" }, "semmandalam": { "arrival": "04:10 PM" }, "gh": { "arrival": "04:15 PM" }, "cuddalore_post_office": { "arrival": "04:20 PM" }, "new_cinema": { "arrival": "04:25 PM" }, "cuddalore_bus_stand": { "arrival": "04:30 PM" } } },
                "ganeshan_panruti_0345": { "busName": "GANESHAN", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "03:45 PM" }, "thiruvathi": { "arrival": "03:50 PM" }, "annagramam": { "arrival": "03:55 PM" }, "mel_pattamapaakam": { "arrival": "04:00 PM" }, "police_line": { "arrival": "04:05 PM" }, "police_station": { "arrival": "04:10 PM" }, "nellikuppam_bus_stand": { "arrival": "04:15 PM" }, "nellikuppam_post_office": { "arrival": "04:20 PM" }, "vellagate": { "arrival": "04:25 PM" }, "kondur": { "arrival": "04:30 PM" }, "chavadi": { "arrival": "04:35 PM" }, "semmandalam": { "arrival": "04:40 PM" }, "gh": { "arrival": "04:45 PM" }, "cuddalore_post_office": { "arrival": "04:50 PM" }, "new_cinema": { "arrival": "04:55 PM" }, "cuddalore_bus_stand": { "arrival": "05:00 PM" } } },
                "routebus_panruti_0415": { "busName": "ROUTE BUS", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "04:15 PM" }, "thiruvathi": { "arrival": "04:20 PM" }, "annagramam": { "arrival": "04:25 PM" }, "mel_pattamapaakam": { "arrival": "04:30 PM" }, "police_line": { "arrival": "04:35 PM" }, "police_station": { "arrival": "04:40 PM" }, "nellikuppam_bus_stand": { "arrival": "04:45 PM" }, "nellikuppam_post_office": { "arrival": "04:50 PM" }, "vellagate": { "arrival": "04:55 PM" }, "kondur": { "arrival": "05:00 PM" }, "chavadi": { "arrival": "05:05 PM" }, "semmandalam": { "arrival": "05:10 PM" }, "gh": { "arrival": "05:15 PM" }, "cuddalore_post_office": { "arrival": "05:20 PM" }, "new_cinema": { "arrival": "05:25 PM" }, "cuddalore_bus_stand": { "arrival": "05:30 PM" } } },
                "routebus_panruti_0430": { "busName": "ROUTE BUS", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "04:30 PM" }, "thiruvathi": { "arrival": "04:35 PM" }, "annagramam": { "arrival": "04:40 PM" }, "mel_pattamapaakam": { "arrival": "04:45 PM" }, "police_line": { "arrival": "04:50 PM" }, "police_station": { "arrival": "04:55 PM" }, "nellikuppam_bus_stand": { "arrival": "05:00 PM" }, "nellikuppam_post_office": { "arrival": "05:05 PM" }, "vellagate": { "arrival": "05:10 PM" }, "kondur": { "arrival": "05:15 PM" }, "chavadi": { "arrival": "05:20 PM" }, "semmandalam": { "arrival": "05:25 PM" }, "gh": { "arrival": "05:30 PM" }, "cuddalore_post_office": { "arrival": "05:35 PM" }, "new_cinema": { "arrival": "05:40 PM" }, "cuddalore_bus_stand": { "arrival": "05:45 PM" } } },
                "nrs_panruti_0500": { "busName": "NRS", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "05:00 PM" }, "thiruvathi": { "arrival": "05:05 PM" }, "annagramam": { "arrival": "05:10 PM" }, "mel_pattamapaakam": { "arrival": "05:15 PM" }, "police_line": { "arrival": "05:20 PM" }, "police_station": { "arrival": "05:25 PM" }, "nellikuppam_bus_stand": { "arrival": "05:30 PM" }, "nellikuppam_post_office": { "arrival": "05:35 PM" }, "vellagate": { "arrival": "05:40 PM" }, "kondur": { "arrival": "05:45 PM" }, "chavadi": { "arrival": "05:50 PM" }, "semmandalam": { "arrival": "05:55 PM" }, "gh": { "arrival": "06:00 PM" }, "cuddalore_post_office": { "arrival": "06:05 PM" }, "new_cinema": { "arrival": "06:10 PM" }, "cuddalore_bus_stand": { "arrival": "06:15 PM" } } },
                "rkr_panruti_0530": { "busName": "RKR", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "05:30 PM" }, "thiruvathi": { "arrival": "05:35 PM" }, "annagramam": { "arrival": "05:40 PM" }, "mel_pattamapaakam": { "arrival": "05:45 PM" }, "police_line": { "arrival": "05:50 PM" }, "police_station": { "arrival": "05:55 PM" }, "nellikuppam_bus_stand": { "arrival": "06:00 PM" }, "nellikuppam_post_office": { "arrival": "06:05 PM" }, "vellagate": { "arrival": "06:10 PM" }, "kondur": { "arrival": "06:15 PM" }, "chavadi": { "arrival": "06:20 PM" }, "semmandalam": { "arrival": "06:25 PM" }, "gh": { "arrival": "06:30 PM" }, "cuddalore_post_office": { "arrival": "06:35 PM" }, "new_cinema": { "arrival": "06:40 PM" }, "cuddalore_bus_stand": { "arrival": "06:45 PM" } } },
                "routebus_panruti_0600": { "busName": "ROUTE BUS", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "06:00 PM" }, "thiruvathi": { "arrival": "06:05 PM" }, "annagramam": { "arrival": "06:10 PM" }, "mel_pattamapaakam": { "arrival": "06:15 PM" }, "police_line": { "arrival": "06:20 PM" }, "police_station": { "arrival": "06:25 PM" }, "nellikuppam_bus_stand": { "arrival": "06:30 PM" }, "nellikuppam_post_office": { "arrival": "06:35 PM" }, "vellagate": { "arrival": "06:40 PM" }, "kondur": { "arrival": "06:45 PM" }, "chavadi": { "arrival": "06:50 PM" }, "semmandalam": { "arrival": "06:55 PM" }, "gh": { "arrival": "07:00 PM" }, "cuddalore_post_office": { "arrival": "07:05 PM" }, "new_cinema": { "arrival": "07:10 PM" }, "cuddalore_bus_stand": { "arrival": "07:15 PM" } } },
                "balaji_panruti_0615": { "busName": "BALAJI", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "06:15 PM" }, "thiruvathi": { "arrival": "06:20 PM" }, "annagramam": { "arrival": "06:25 PM" }, "mel_pattamapaakam": { "arrival": "06:30 PM" }, "police_line": { "arrival": "06:35 PM" }, "police_station": { "arrival": "06:40 PM" }, "nellikuppam_bus_stand": { "arrival": "06:45 PM" }, "nellikuppam_post_office": { "arrival": "06:50 PM" }, "vellagate": { "arrival": "06:55 PM" }, "kondur": { "arrival": "07:00 PM" }, "chavadi": { "arrival": "07:05 PM" }, "semmandalam": { "arrival": "07:10 PM" }, "gh": { "arrival": "07:15 PM" }, "cuddalore_post_office": { "arrival": "07:20 PM" }, "new_cinema": { "arrival": "07:25 PM" }, "cuddalore_bus_stand": { "arrival": "07:30 PM" } } },
                "routebus_panruti_0645": { "busName": "ROUTE BUS", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "06:45 PM" }, "thiruvathi": { "arrival": "06:50 PM" }, "annagramam": { "arrival": "06:55 PM" }, "mel_pattamapaakam": { "arrival": "07:00 PM" }, "police_line": { "arrival": "07:05 PM" }, "police_station": { "arrival": "07:10 PM" }, "nellikuppam_bus_stand": { "arrival": "07:15 PM" }, "nellikuppam_post_office": { "arrival": "07:20 PM" }, "vellagate": { "arrival": "07:25 PM" }, "kondur": { "arrival": "07:30 PM" }, "chavadi": { "arrival": "07:35 PM" }, "semmandalam": { "arrival": "07:40 PM" }, "gh": { "arrival": "07:45 PM" }, "cuddalore_post_office": { "arrival": "07:50 PM" }, "new_cinema": { "arrival": "07:55 PM" }, "cuddalore_bus_stand": { "arrival": "08:00 PM" } } },
                "rkr_panruti_0715": { "busName": "RKR", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "07:15 PM" }, "thiruvathi": { "arrival": "07:20 PM" }, "annagramam": { "arrival": "07:25 PM" }, "mel_pattamapaakam": { "arrival": "07:30 PM" }, "police_line": { "arrival": "07:35 PM" }, "police_station": { "arrival": "07:40 PM" }, "nellikuppam_bus_stand": { "arrival": "07:45 PM" }, "nellikuppam_post_office": { "arrival": "07:50 PM" }, "vellagate": { "arrival": "07:55 PM" }, "kondur": { "arrival": "08:00 PM" }, "chavadi": { "arrival": "08:05 PM" }, "semmandalam": { "arrival": "08:10 PM" }, "gh": { "arrival": "08:15 PM" }, "cuddalore_post_office": { "arrival": "08:20 PM" }, "new_cinema": { "arrival": "08:25 PM" }, "cuddalore_bus_stand": { "arrival": "08:30 PM" } } },
                "nrs_panruti_0745": { "busName": "NRS", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "07:45 PM" }, "thiruvathi": { "arrival": "07:50 PM" }, "annagramam": { "arrival": "07:55 PM" }, "mel_pattamapaakam": { "arrival": "08:00 PM" }, "police_line": { "arrival": "08:05 PM" }, "police_station": { "arrival": "08:10 PM" }, "nellikuppam_bus_stand": { "arrival": "08:15 PM" }, "nellikuppam_post_office": { "arrival": "08:20 PM" }, "vellagate": { "arrival": "08:25 PM" }, "kondur": { "arrival": "08:30 PM" }, "chavadi": { "arrival": "08:35 PM" }, "semmandalam": { "arrival": "08:40 PM" }, "gh": { "arrival": "08:45 PM" }, "cuddalore_post_office": { "arrival": "08:50 PM" }, "new_cinema": { "arrival": "08:55 PM" }, "cuddalore_bus_stand": { "arrival": "09:00 PM" } } },
                "ganeshan_panruti_0800": { "busName": "GANESHAN", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "08:00 PM" }, "thiruvathi": { "arrival": "08:05 PM" }, "annagramam": { "arrival": "08:10 PM" }, "mel_pattamapaakam": { "arrival": "08:15 PM" }, "police_line": { "arrival": "08:20 PM" }, "police_station": { "arrival": "08:25 PM" }, "nellikuppam_bus_stand": { "arrival": "08:30 PM" }, "nellikuppam_post_office": { "arrival": "08:35 PM" }, "vellagate": { "arrival": "08:40 PM" }, "kondur": { "arrival": "08:45 PM" }, "chavadi": { "arrival": "08:50 PM" }, "semmandalam": { "arrival": "08:55 PM" }, "gh": { "arrival": "09:00 PM" }, "cuddalore_post_office": { "arrival": "09:05 PM" }, "new_cinema": { "arrival": "09:10 PM" }, "cuddalore_bus_stand": { "arrival": "09:15 PM" } } },
                "akt_panruti_0830": { "busName": "AKT", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "08:30 PM" }, "thiruvathi": { "arrival": "08:35 PM" }, "annagramam": { "arrival": "08:40 PM" }, "mel_pattamapaakam": { "arrival": "08:45 PM" }, "police_line": { "arrival": "08:50 PM" }, "police_station": { "arrival": "08:55 PM" }, "nellikuppam_bus_stand": { "arrival": "09:00 PM" }, "nellikuppam_post_office": { "arrival": "09:05 PM" }, "vellagate": { "arrival": "09:10 PM" }, "kondur": { "arrival": "09:15 PM" }, "chavadi": { "arrival": "09:20 PM" }, "semmandalam": { "arrival": "09:25 PM" }, "gh": { "arrival": "09:30 PM" }, "cuddalore_post_office": { "arrival": "09:35 PM" }, "new_cinema": { "arrival": "09:40 PM" }, "cuddalore_bus_stand": { "arrival": "09:45 PM" } } },
                "routebus_panruti_0900": { "busName": "ROUTE BUS", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "09:00 PM" }, "thiruvathi": { "arrival": "09:05 PM" }, "annagramam": { "arrival": "09:10 PM" }, "mel_pattamapaakam": { "arrival": "09:15 PM" }, "police_line": { "arrival": "09:20 PM" }, "police_station": { "arrival": "09:25 PM" }, "nellikuppam_bus_stand": { "arrival": "09:30 PM" }, "nellikuppam_post_office": { "arrival": "09:35 PM" }, "vellagate": { "arrival": "09:40 PM" }, "kondur": { "arrival": "09:45 PM" }, "chavadi": { "arrival": "09:50 PM" }, "semmandalam": { "arrival": "09:55 PM" }, "gh": { "arrival": "10:00 PM" }, "cuddalore_post_office": { "arrival": "10:05 PM" }, "new_cinema": { "arrival": "10:10 PM" }, "cuddalore_bus_stand": { "arrival": "10:15 PM" } } },
                "routebus_panruti_0930": { "busName": "ROUTE BUS", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "09:30 PM" }, "thiruvathi": { "arrival": "09:35 PM" }, "annagramam": { "arrival": "09:40 PM" }, "mel_pattamapaakam": { "arrival": "10:45 PM" }, "police_line": { "arrival": "10:50 PM" }, "police_station": { "arrival": "10:55 PM" }, "nellikuppam_bus_stand": { "arrival": "11:00 PM" }, "nellikuppam_post_office": { "arrival": "11:05 PM" }, "vellagate": { "arrival": "11:10 PM" }, "kondur": { "arrival": "11:15 PM" }, "chavadi": { "arrival": "11:20 PM" }, "semmandalam": { "arrival": "11:25 PM" }, "gh": { "arrival": "11:30 PM" }, "cuddalore_post_office": { "arrival": "11:35 PM" }, "new_cinema": { "arrival": "11:40 PM" }, "cuddalore_bus_stand": { "arrival": "11:45 PM" } } },
                "routebus_panruti_0945": { "busName": "ROUTE BUS", "routeId": "panruti_to_cuddalore", "capacity": 50, "scheduleTimes": { "panruti": { "departure": "09:45 PM" }, "thiruvathi": { "arrival": "09:50 PM" }, "annagramam": { "arrival": "09:55 PM" }, "mel_pattamapaakam": { "arrival": "10:00 PM" }, "police_line": { "arrival": "10:05 PM" }, "police_station": { "arrival": "10:10 PM" }, "nellikuppam_bus_stand": { "arrival": "10:15 PM" }, "nellikuppam_post_office": { "arrival": "10:20 PM" }, "vellagate": { "arrival": "10:25 PM" }, "kondur": { "arrival": "10:30 PM" }, "chavadi": { "arrival": "10:35 PM" }, "semmandalam": { "arrival": "10:40 PM" }, "gh": { "arrival": "10:45 PM" }, "cuddalore_post_office": { "arrival": "10:50 PM" }, "new_cinema": { "arrival": "10:55 PM" }, "cuddalore_bus_stand": { "arrival": "11:00 PM" } } }
            }
        };

        // DOM Elements
        const currentStopSelect = document.getElementById('currentStopSelect');
        const destinationSelect = document.getElementById('destinationSelect');
        const findBusesButton = document.getElementById('findBusesButton');
        const availableBusesContainer = document.getElementById('availableBusesContainer');
        const busCardsContainer = document.getElementById('busCardsContainer');
        const detailedTrackingContainer = document.getElementById('detailedTrackingContainer');
        const trackingBusName = document.getElementById('trackingBusName');
        const trackingBusRoute = document.getElementById('trackingBusRoute');
        const trackingLiveLocation = document.getElementById('trackingLiveLocation');
        const trackingStopList = document.getElementById('trackingStopList');
        const closeTrackingButton = document.getElementById('closeTrackingButton');
        const messageModal = document.getElementById('messageModal');
        const modalMessage = document.getElementById('modalMessage');
        const closeModalButton = document.getElementById('closeModalButton');
        const modalOkButton = document.getElementById('modalOkButton');

        let currentStop = '';
        let destination = '';
        let availableBuses = [];
        let selectedBusForTracking = null;
        let simulatedCurrentTime = getCurrentTimeInMinutes();
        let intervalId = null; // To store the interval ID for live location updates

        // Populate stop dropdowns
        function populateStops() {
            const stops = initialBusData.stops;
            for (const key in stops) {
                const option1 = document.createElement('option');
                option1.value = key;
                option1.textContent = String(stops[key]?.name ?? '');
                currentStopSelect.appendChild(option1);

                const option2 = document.createElement('option');
                option2.value = key;
                option2.textContent = String(stops[key]?.name ?? '');
                destinationSelect.appendChild(option2);
            }
        }

        // Helper function to convert time string (e.g., "06:00 AM") to minutes from midnight
        function timeToMinutes(timeStr) {
            if (!timeStr) return -1; // Handle cases where time string might be missing
            const [time, period] = timeStr.split(' ');
            let [hours, minutes] = time.split(':').map(Number);

            if (period === 'PM' && hours !== 12) {
                hours += 12;
            } else if (period === 'AM' && hours === 12) {
                hours = 0; // Midnight (12:00 AM) is 0 hours
            }
            return hours * 60 + minutes;
        }

        // Helper function to convert minutes from midnight back to a readable time string
        function minutesToTime(totalMinutes) {
            const hours = Math.floor(totalMinutes / 60);
            const minutes = totalMinutes % 60;
            const period = hours >= 12 ? 'PM' : 'AM';
            const displayHours = hours % 12 === 0 ? 12 : hours % 12;
            const displayMinutes = minutes < 10 ? `0${minutes}` : minutes;
            return `${displayHours}:${displayMinutes} ${period}`;
        }

        // Helper function to get current time in minutes from midnight
        function getCurrentTimeInMinutes() {
            const now = new Date();
            return now.getHours() * 60 + now.getMinutes();
        }

        /**
         * Estimates available seats based on the bus's position in its route.
         * This is a simplified heuristic.
         * @param {string} busId - The ID of the bus.
         * @param {string} currentStopKey - The key of the user's current stop.
         * @returns {string} A descriptive string of estimated available seats.
         */
        function getEstimatedAvailableSeats(busId, currentStopKey) {
            const bus = initialBusData.busSchedules[busId];
            if (!bus || !bus.capacity) return 'N/A';

            const route = initialBusData.routes[bus.routeId];
            if (!route) return 'N/A';

            const stopOrder = route.stopOrder;
            const currentStopIndex = stopOrder.indexOf(currentStopKey);

            if (currentStopIndex === -1) {
                return 'N/A'; // Current stop not on this bus's route
            }

            // Special case: If the current stop is the very first stop of the route
            if (currentStopIndex === 0) {
                return 'Likely Limited / May be full'; // Acknowledge potential high occupancy
            }

            const totalStops = stopOrder.length;
            // Calculate route progress from the first stop, not necessarily the currentStop
            // This ensures that 'early in the route' is always relative to the bus's overall journey start
            const progressFromRouteStart = currentStopIndex / (totalStops - 1);

            let availableSeatsRange = '';

            if (progressFromRouteStart < 0.33) { // First third of the route (after the very first stop)
                availableSeatsRange = '5-10';
            } else if (progressFromRouteStart < 0.66) { // Middle third
                availableSeatsRange = '10-20';
            } else { // Last third
                availableSeatsRange = '20-30+';
            }

            return availableSeatsRange;
        }


        // Function to determine the simulated live location of a bus
        function getSimulatedLiveLocation(busId, currentTime) {
            const bus = initialBusData.busSchedules[busId];
            if (!bus) return { display: 'Unknown Location', currentStopKey: null, nextStopKey: null };

            const route = initialBusData.routes[bus.routeId];
            if (!route) return { display: 'Unknown Location', currentStopKey: null, nextStopKey: null };

            const stopOrder = route.stopOrder;
            const scheduleTimes = bus.scheduleTimes;
            const stops = initialBusData.stops;

            let currentStopKey = null;
            let nextStopKey = null;

            // Find the current and next stop based on schedule and current time
            // Iterate through the stops in the defined order of the route
            for (let i = 0; i < stopOrder.length; i++) {
                const stopKey = stopOrder[i];
                const timeAtStopStr = scheduleTimes[stopKey]?.arrival || scheduleTimes[stopKey]?.departure;
                const timeAtStopMinutes = timeToMinutes(timeAtStopStr);

                if (timeAtStopMinutes === -1) continue; // Skip if time is not available for this stop

                if (currentTime >= timeAtStopMinutes) {
                    currentStopKey = stopKey; // Bus has reached or passed this stop
                } else {
                    nextStopKey = stopKey; // This is the next upcoming stop
                    break; // Stop iterating once the next stop is found
                }
            }

            let displayLocation = '';
            if (currentStopKey && nextStopKey) {
                displayLocation = `Between ${String(stops[currentStopKey]?.name ?? '')} and ${String(stops[nextStopKey]?.name ?? '')}`;
            } else if (currentStopKey) {
                // If currentStopKey exists but no nextStopKey, bus is at or past the last stop
                displayLocation = `At or past ${String(stops[currentStopKey]?.name ?? '')} (End of Route)`;
            } else if (nextStopKey) {
                // If no currentStopKey but nextStopKey exists, bus hasn't started yet
                displayLocation = `Scheduled to depart from ${String(stops[nextStopKey]?.name ?? '')}`;
            } else {
                displayLocation = 'No schedule information available for current time.';
            }

            // Special case: if current time is before the first stop's departure
            const firstScheduledStopKey = stopOrder[0];
            const firstScheduledDepartureTime = timeToMinutes(scheduleTimes[firstScheduledStopKey]?.departure || scheduleTimes[firstScheduledStopKey]?.arrival);
            if (firstScheduledDepartureTime !== -1 && currentTime < firstScheduledDepartureTime) {
                displayLocation = `At Depot (Scheduled to depart from ${String(stops[firstScheduledStopKey]?.name ?? '')} at ${minutesToTime(firstScheduledDepartureTime)})`;
                currentStopKey = null; // No current stop yet
                nextStopKey = firstScheduledStopKey; // Next stop is the first one
            }

            return {
                display: displayLocation,
                currentStopKey: currentStopKey,
                nextStopKey: nextStopKey
            };
        }

        // Function to display messages in a modal
        function showMessage(msg) {
            modalMessage.textContent = String(msg ?? '');
            messageModal.style.display = 'flex'; // Show the modal
        }

        // Function to close the modal
        function closeModal() {
            messageModal.style.display = 'none'; // Hide the modal
            modalMessage.textContent = ''; // Clear message
        }

        // Function to find available buses
        function findAvailableBuses() {
            currentStop = currentStopSelect.value;
            destination = destinationSelect.value;

            if (!currentStop || !destination) {
                showMessage("Please select both your current stop and destination.");
                return;
            }
            if (currentStop === destination) {
                showMessage("Current stop and destination cannot be the same.");
                return;
            }

            const currentTimeMinutes = getCurrentTimeInMinutes();
            let primaryRouteBuses = [];
            let oppositeRouteBuses = [];

            let selectedRoute = null;
            let oppositeRoute = null;

            // Determine the primary route (where currentStop comes before destination)
            // and the opposite route (where destination comes before currentStop)
            for (const routeKey in initialBusData.routes) {
                const route = initialBusData.routes[routeKey];
                const stopOrder = route.stopOrder;
                const currentStopIndex = stopOrder.indexOf(currentStop);
                const destinationIndex = stopOrder.indexOf(destination);

                if (currentStopIndex !== -1 && destinationIndex !== -1) {
                    if (currentStopIndex < destinationIndex) {
                        selectedRoute = { id: routeKey, name: route.name, stopOrder: route.stopOrder };
                    } else {
                        oppositeRoute = { id: routeKey, name: route.name, stopOrder: route.stopOrder };
                    }
                }
            }

            if (!selectedRoute && !oppositeRoute) {
                showMessage("The selected current stop and destination are not on any known route.");
                return;
            }

            // Filter buses for the identified primary route
            if (selectedRoute) {
                for (const busId in initialBusData.busSchedules) {
                    const bus = initialBusData.busSchedules[busId];
                    if (bus.routeId === selectedRoute.id) {
                        const scheduleTimes = bus.scheduleTimes;
                        const departureTimeAtCurrentStopStr = scheduleTimes[currentStop]?.departure || scheduleTimes[currentStop]?.arrival;
                        const arrivalTimeAtDestinationStr = scheduleTimes[destination]?.arrival || scheduleTimes[destination]?.departure;

                        if (departureTimeAtCurrentStopStr && arrivalTimeAtDestinationStr) {
                            const departureTimeMinutes = timeToMinutes(departureTimeAtCurrentStopStr);
                            // Only include buses that depart from the current stop at or after the current time
                            if (departureTimeMinutes >= currentTimeMinutes) {
                                primaryRouteBuses.push({
                                    id: busId,
                                    name: String(bus.busName ?? ''),
                                    routeId: bus.routeId,
                                    departureTime: String(departureTimeAtCurrentStopStr ?? ''),
                                    arrivalTime: String(arrivalTimeAtDestinationStr ?? ''),
                                    liveLocation: getSimulatedLiveLocation(busId, currentTimeMinutes).display,
                                    route: String(selectedRoute.name ?? ''),
                                    scheduleTimes: bus.scheduleTimes,
                                    stopOrder: selectedRoute.stopOrder,
                                    estimatedAvailableSeats: getEstimatedAvailableSeats(busId, currentStop) // New: Add estimated seats
                                });
                            }
                        }
                    }
                }
            }

            // If no primary route buses are found, filter buses for the identified opposite route
            if (primaryRouteBuses.length === 0 && oppositeRoute) {
                for (const busId in initialBusData.busSchedules) {
                    const bus = initialBusData.busSchedules[busId];
                    if (bus.routeId === oppositeRoute.id) {
                        const scheduleTimes = bus.scheduleTimes;
                        // For opposite direction, we consider any bus that has not yet departed its origin
                        // or is currently en route. We use its first scheduled stop's departure time.
                        const firstStopOfOppositeRoute = oppositeRoute.stopOrder[0];
                        const departureTimeAtFirstStopStr = scheduleTimes[firstStopOfOppositeRoute]?.departure || scheduleTimes[firstStopOfOppositeRoute]?.arrival;

                        if (departureTimeAtFirstStopStr) {
                            const departureTimeMinutes = timeToMinutes(departureTimeAtFirstStopStr);
                            if (departureTimeMinutes >= currentTimeMinutes) {
                                oppositeRouteBuses.push({
                                    id: busId,
                                    name: String(bus.busName ?? ''),
                                    routeId: bus.routeId,
                                    departureTime: String(departureTimeAtFirstStopStr ?? ''), // Departure from its origin
                                    arrivalTime: String(scheduleTimes[oppositeRoute.stopOrder[oppositeRoute.stopOrder.length - 1]]?.arrival ?? ''), // Arrival at its destination
                                    liveLocation: getSimulatedLiveLocation(busId, currentTimeMinutes).display,
                                    route: String(oppositeRoute.name ?? ''),
                                    scheduleTimes: bus.scheduleTimes,
                                    stopOrder: oppositeRoute.stopOrder,
                                    estimatedAvailableSeats: getEstimatedAvailableSeats(busId, currentStop) // New: Add estimated seats
                                });
                            }
                        }
                    }
                }
            }

            if (primaryRouteBuses.length > 0) {
                availableBuses = primaryRouteBuses;
                renderAvailableBuses();
            } else {
                // No buses found for the primary route, check opposite direction
                if (oppositeRouteBuses.length > 0) {
                    availableBuses = oppositeRouteBuses;
                    renderAvailableBuses();
                    showMessage(`No buses found for ${selectedRoute?.name || 'your selected direction'} at the current time. Showing buses available for ${oppositeRoute?.name || 'the opposite direction'} instead.`);
                } else {
                    availableBuses = []; // Ensure it's empty if no buses found at all
                    renderAvailableBuses(); // This will hide the container
                    showMessage("No buses found for your selected route at the current time.");
                }
            }
            selectedBusForTracking = null; // Reset detailed view
            detailedTrackingContainer.classList.add('hidden');
        }

        // Render available buses in the UI
        function renderAvailableBuses() {
            busCardsContainer.innerHTML = ''; // Clear previous results
            if (availableBuses.length > 0) {
                availableBusesContainer.classList.remove('hidden');
                availableBuses.forEach(bus => {
                    const busCard = document.createElement('div');
                    busCard.className = "bg-blue-50 p-4 rounded-lg shadow-md border border-blue-200 cursor-pointer hover:bg-blue-100 transition duration-200";
                    busCard.innerHTML = `
                        <p class="text-lg font-semibold text-blue-700">${String(bus.name ?? '')}</p>
                        <p class="text-gray-600 text-sm">Route: ${String(bus.route ?? '')}</p>
                        <p class="text-gray-600 text-sm">Departure: ${String(bus.departureTime ?? '')}</p>
                        <p class="text-gray-600 text-sm">Arrival: ${String(bus.arrivalTime ?? '')}</p>
                        <p class="text-green-600 font-medium text-sm mt-1">Live Location: ${String(bus.liveLocation ?? '')}</p>
                        <p class="text-purple-700 font-bold text-sm mt-1">Estimated Seats Available: ${String(bus.estimatedAvailableSeats ?? 'N/A')}</p>
                        <p class="text-xs text-gray-500 mt-2">Click for detailed tracking</p>
                    `;
                    busCard.addEventListener('click', () => handleBusClick(bus));
                    busCardsContainer.appendChild(busCard);
                });
            } else {
                availableBusesContainer.classList.add('hidden');
            }
        }

        // Handle click on a bus card to show detailed tracking
        function handleBusClick(bus) {
            selectedBusForTracking = bus;
            renderDetailedTracking();
            detailedTrackingContainer.classList.remove('hidden');
            availableBusesContainer.classList.add('hidden'); // Hide available buses when showing detail
            startLiveLocationUpdates(); // Start interval for selected bus
        }

        // Render detailed tracking view
        function renderDetailedTracking() {
            if (!selectedBusForTracking) return;

            const liveLocationData = getSimulatedLiveLocation(selectedBusForTracking.id, simulatedCurrentTime);
            trackingBusName.textContent = `Live Tracking: ${String(selectedBusForTracking.name ?? '')}`;
            trackingBusRoute.textContent = `Route: ${String(selectedBusForTracking.route ?? '')}`;
            trackingLiveLocation.textContent = String(liveLocationData.display ?? '');

            trackingStopList.innerHTML = '<div class="vertical-line"></div>'; // Clear previous stop list and add line

            selectedBusForTracking.stopOrder.forEach(stopKey => {
                const stopName = initialBusData.stops[stopKey]?.name;
                const arrivalTime = selectedBusForTracking.scheduleTimes[stopKey]?.arrival;
                const departureTime = selectedBusForTracking.scheduleTimes[stopKey]?.departure;
                const timeInfo = arrivalTime ? `Arr: ${String(arrivalTime ?? '')}` : (departureTime ? `Dep: ${String(departureTime ?? '')}` : 'N/A');

                let highlightClass = '';
                let busIconHtml = '';

                const isCurrentStopActual = (liveLocationData.currentStopKey === stopKey);
                const isNextStopActual = (liveLocationData.nextStopKey === stopKey);
                const stopTimeMinutes = timeToMinutes(arrivalTime || departureTime);


                const stopDiv = document.createElement('div');
                stopDiv.className = `stop-item flex items-center p-2 rounded-lg`;

                if (isCurrentStopActual) {
                    highlightClass = 'bg-green-200 border-green-500'; // Bus is at this stop
                    busIconHtml = '<span class="bus-icon">🚌</span>';
                } else if (isNextStopActual && liveLocationData.currentStopKey === null) {
                    // Bus hasn't started yet, but this is the first stop
                    highlightClass = 'bg-yellow-100 border-yellow-400';
                    busIconHtml = '<span class="bus-icon">🚌</span>';
                }
                else if (stopTimeMinutes !== -1 && simulatedCurrentTime >= stopTimeMinutes) {
                    // This stop has been passed
                    highlightClass = 'text-blue-600';
                } else {
                    // This stop is upcoming
                    highlightClass = 'text-gray-400';
                }

                stopDiv.innerHTML = `
                    <div class="stop-circle bg-blue-500"></div>
                    <div>
                        <p class="font-medium ${isCurrentStopActual ? 'text-green-800' : 'text-gray-800'}">
                            ${String(stopName ?? 'Unknown Stop')}
                        </p>
                        <p class="text-sm text-gray-600">${String(timeInfo ?? '')}</p>
                    </div>
                    ${busIconHtml}
                `;
                trackingStopList.appendChild(stopDiv);
            });
        }

        // Start interval for live location updates for the selected bus
        function startLiveLocationUpdates() {
            if (intervalId) {
                clearInterval(intervalId); // Clear any existing interval
            }
            intervalId = setInterval(() => {
                simulatedCurrentTime = getCurrentTimeInMinutes();
                if (selectedBusForTracking) {
                    selectedBusForTracking.liveLocation = getSimulatedLiveLocation(selectedBusForTracking.id, simulatedCurrentTime).display;
                    renderDetailedTracking();
                } else {
                    // If no bus is selected for tracking, clear interval
                    clearInterval(intervalId);
                    intervalId = null;
                }
            }, 60 * 1000); // Update every minute
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', () => {
            populateStops();

            // Check for QR scan parameter in URL
            const urlParams = new URLSearchParams(window.location.search);
            const scannedStopIdFromUrl = urlParams.get('stop');
            if (scannedStopIdFromUrl && initialBusData.stops[scannedStopIdFromUrl]) {
                currentStopSelect.value = scannedStopIdFromUrl;
                currentStop = scannedStopIdFromUrl; // Update the global currentStop variable
                showMessage(`Welcome! Your current location has been set to: ${String(initialBusData.stops[scannedStopIdFromUrl]?.name ?? '')}`);
            }

            // Initial render of available buses (will be empty initially if no QR scan)
            renderAvailableBuses();
        });

        findBusesButton.addEventListener('click', findAvailableBuses);

        closeTrackingButton.addEventListener('click', () => {
            selectedBusForTracking = null;
            detailedTrackingContainer.classList.add('hidden');
            availableBusesContainer.classList.remove('hidden'); // Show available buses again
            if (intervalId) {
                clearInterval(intervalId);
                intervalId = null;
            }
        });

        closeModalButton.addEventListener('click', closeModal);
        modalOkButton.addEventListener('click', closeModal);

        // Update currentStop variable when dropdown changes
        currentStopSelect.addEventListener('change', (e) => {
            currentStop = e.target.value;
        });

        // Update destination variable when dropdown changes
        destinationSelect.addEventListener('change', (e) => {
            destination = e.target.value;
        });

    </script>
</body>
</html>
